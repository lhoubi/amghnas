<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Berber/Tifinagh Virtual Keyboard</title>

    <!-- Favicon -->
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="shortcut icon" href="favicon.png" type="image/png">

    <!-- Google Fonts: Using Roboto for general text and Playfair Display for main titles, as per your style.css -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons (used in buttons like backspace, copy, clear) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Your Custom Stylesheet - This file contains all the professional CSS styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Noto Sans Tifinagh font: Crucial for displaying Tifinagh characters correctly -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Tifinagh&display=swap');

        /* Remove/Revert any contenteditable specific CSS if you added it */
        /* Ensure your .text-input (textarea) styles are correct from original */
        .text-input { /* Your original textarea styles should be here */
            width: 100%;
            min-height: 150px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Noto Sans Tifinagh', sans-serif; /* Crucial for display */
            font-size: 1.2em;
            line-height: 1.6;
            outline: none;
            resize: vertical;
            overflow-y: auto;
            background-color: var(--input-bg);
            color: var(--text-color);
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .text-input.focused {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.3);
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- Header Controls for Navigation & Dark Mode Toggle -->
        <div class="header-controls">
            <!-- Navigation link back to the main converter page -->
            <a href="index.html" class="nav-button">
                <i class="fas fa-arrow-left"></i> Converter
            </a>
            <!-- Dark Mode Toggle Button -->
            <button id="themeToggle" aria-label="Toggle light and dark mode">
                <i class="fas fa-moon"></i> Toggle Dark Mode
            </button>
        </div>

        <!-- Main Title for the Keyboard Page -->
        <h1>Berber/Tifinagh Virtual Keyboard</h1>
        <p class="tagline">Type directly in Tifinagh using this virtual keyboard or your physical keyboard.</p>

        <!-- REVERTED: Back to textarea -->
        <textarea id="keyboardInput" class="text-input" placeholder="Start typing in Tifinagh here..." lang="ber" inputmode="text"></textarea>

        <!-- Virtual Keyboard Section -->
        <section class="keyboard-section">
            <div class="keyboard-layout">
                <!-- Keyboard Row 1 -->
                <div class="keyboard-row">
                    <button class="keyboard-key" data-key="ⵕ"> <span class="latin-char">ḍ</span><span class="tifinagh-char">ⵕ</span></button>
                    <button class="keyboard-key" data-key="ⵖ"> <span class="latin-char">ɣ</span><span class="tifinagh-char">ⵖ</span></button>
                    <button class="keyboard-key" data-key="ⵜ"> <span class="latin-char">t</span><span class="tifinagh-char">ⵜ</span></button>
                    <button class="keyboard-key" data-key="ⵢ"> <span class="latin-char">y</span><span class="tifinagh-char">ⵢ</span></button>
                    <button class="keyboard-key" data-key="ⵓ"> <span class="latin-char">u</span><span class="tifinagh-char">ⵓ</span></button>
                    <button class="keyboard-key" data-key="ⵉ"> <span class="latin-char">i</span><span class="tifinagh-char">ⵉ</span></button>
                    <button class="keyboard-key" data-key="ⴱ"> <span class="latin-char">b</span><span class="tifinagh-char">ⴱ</span></button>
                    <button class="keyboard-key" data-key="ⵀ"> <span class="latin-char">h</span><span class="tifinagh-char">ⵀ</span></button>
                    <button class="keyboard-key" data-key="ⵃ"> <span class="latin-char">ḥ</span><span class="tifinagh-char">ⵃ</span></button>
                    <button class="keyboard-key" data-key="ⴳ"> <span class="latin-char">g</span><span class="tifinagh-char">ⴳ</span></button>
                    <button class="keyboard-key" data-key="ⵍ"> <span class="latin-char">l</span><span class="tifinagh-char">ⵍ</span></button>
                    <button class="keyboard-key" data-key="ⵅ"> <span class="latin-char">kh</span><span class="tifinagh-char">ⵅ</span></button>
                    <button class="keyboard-key" data-key="ⵚ"> <span class="latin-char">ṣ</span><span class="tifinagh-char">ⵚ</span></button>
                </div>
                <!-- Keyboard Row 2 -->
                <div class="keyboard-row">
                    <button class="keyboard-key" data-key="ⵄ"> <span class="latin-char">ɛ</span><span class="tifinagh-char">ⵄ</span></button>
                    <button class="keyboard-key" data-key="ⴹ"> <span class="latin-char">ḍ</span><span class="tifinagh-char">ⴹ</span></button>
                    <button class="keyboard-key" data-key="ⴼ"> <span class="latin-char">f</span><span class="tifinagh-char">ⴼ</span></button>
                    <button class="keyboard-key" data-key="ⴽ"> <span class="latin-char">k</span><span class="tifinagh-char">ⴽ</span></button>
                    <button class="keyboard-key" data-key="ⵏ"> <span class="latin-char">n</span><span class="tifinagh-char">ⵏ</span></button>
                    <button class="keyboard-key" data-key="ⵎ"> <span class="latin-char">m</span><span class="tifinagh-char">ⵎ</span></button>
                    <button class="keyboard-key" data-key="ⵇ"> <span class="latin-char">q</span><span class="tifinagh-char">ⵇ</span></button>
                    <button class="keyboard-key" data-key="ⵙ"> <span class="latin-char">s</span><span class="tifinagh-char">ⵙ</span></button>
                    <button class="keyboard-key" data-key="ⵛ"> <span class="latin-char">sh</span><span class="tifinagh-char">ⵛ</span></button>
                    <button class="keyboard-key" data-key="ⴷ"> <span class="latin-char">d</span><span class="tifinagh-char">ⴷ</span></button>
                    <button class="keyboard-key" data-key="ⵣ"> <span class="latin-char">z</span><span class="tifinagh-char">ⵣ</span></button>
                </div>
                <!-- Keyboard Row 3 (Special Keys: ⵥ, ⵯ, Space, Backspace) -->
                <div class="keyboard-row">
                    <button class="keyboard-key" data-key="ⵥ"> <span class="latin-char">ẓ</span><span class="tifinagh-char">ⵥ</span></button>
                    <button class="keyboard-key" data-key="ⵯ"> <span class="latin-char">ʷ</span><span class="tifinagh-char">ⵯ</span></button> <!-- Labialized sound 'ʷ' -->
                    <button class="keyboard-key wide" data-key=" ">SPACE</button> <!-- 'wide' for visual width -->
                    <button class="keyboard-key delete" data-key="backspace" title="Backspace">
                        <i class="fas fa-backspace"></i>
                    </button>
                </div>
                <!-- Additional rows can be added here -->
            </div>
        </section>

        <!-- Action Buttons: Copy and Clear -->
        <div class="action-buttons">
            <button class="copy" id="copyBtn"><i class="fas fa-copy"></i> Copy</button>
            <button class="clear" id="clearBtn"><i class="fas fa-eraser"></i> Clear</button>
        </div>

        <!-- Footer Section -->
        <footer class="footer">
            <p>&copy; 2026 Tifinagh & Talatint Converter. All rights reserved.</p>
            <p>Made with <i class="fas fa-heart" aria-hidden="true"></i> for Amazigh culture.</p>
        </footer>
    </div>

    <!-- JavaScript files for keyboard functionality and theme toggle -->
    <script src="keyboard.js"></script>
    <script src="themeToggle.js"></script>
</body>
</html>
